(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e62024a"],{"0946":function(t,e,n){"use strict";var i=n("17c6"),o=n.n(i);o.a},"17c6":function(t,e,n){},8015:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"min-height":"60vh"},on:{mousemove:function(e){return t.showToolbar(e)}}},[n("div",{staticClass:"toolbar-box",class:t.isEdit?"":"hide-toolbar"},[n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"页面列表",placement:"right"}},[n("oh-button",{attrs:{icon:"view_carousel",circle:""}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"新建页面",placement:"right"}},[n("oh-button",{attrs:{icon:"note_add",circle:""},on:{click:function(e){t.newPageDialog=!0}}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"页面配置",placement:"right"}},[n("oh-button",{attrs:{icon:"settings",circle:""},on:{click:function(e){t.editPageDialog=!0}}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"编辑",placement:"right"}},[n("oh-button",{attrs:{icon:"edit",active:!!t.isEdit,circle:""},on:{click:function(e){t.isEdit=!0}}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"新增模块",placement:"right"}},[n("oh-button",{attrs:{icon:"add_circle",circle:""},on:{click:t.newGrid}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"新建组件",placement:"right"}},[n("oh-button",{attrs:{icon:"add_to_photos",circle:""},on:{click:function(e){t.innerDrawer=!0}}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"预览",placement:"right"}},[n("oh-button",{attrs:{icon:"visibility",active:!t.isEdit,circle:""},on:{click:t.preview}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"暂存",placement:"right"}},[n("oh-button",{attrs:{icon:"save",circle:""},on:{click:t.saveLayout}})],1)],1),n("div",{staticClass:"toolbar-item"},[n("el-tooltip",{attrs:{content:"发布",placement:"right"}},[n("oh-button",{attrs:{icon:"done_all",circle:""}})],1)],1)]),n("grid-layout",{staticClass:"showViews",class:{hideViews:!t.isEdit},attrs:{layout:t.layout,"col-num":24,"row-height":1,"is-draggable":!!t.isEdit,"is-resizable":!!t.isEdit,"is-mirrored":!1,"vertical-compact":!0,margin:[16,16],"use-css-transforms":!!t.isEdit},on:{"update:layout":function(e){t.layout=e}}},t._l(t.layout,function(e,i){return n("grid-item",{key:e.i,class:t.isEdit?"grid-item-edit":"",attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,minH:e.minH}},[t.isEdit?n("div",{staticClass:"option"},[n("el-tooltip",{attrs:{content:"选择组件"}},[n("oh-button",{attrs:{icon:"memory",circle:"",size:"mini"},on:{click:function(n){return t.updateComponent(e.i)}}})],1),n("el-tooltip",{attrs:{content:"编辑源码"}},[n("oh-button",{attrs:{icon:"code",circle:"",size:"mini"},on:{click:function(n){return t.editComponent(e.code,e.i)}}})],1),n("el-popconfirm",{attrs:{title:"确定删除该模块？",placement:"top",icon:"el-icon-warning",iconColor:"red"},on:{onConfirm:function(e){return t.delGrid(i)}}},[n("el-tooltip",{attrs:{slot:"reference",content:"删除"},slot:"reference"},[n("oh-button",{attrs:{icon:"delete",circle:"",size:"mini"}})],1)],1),n("el-tooltip",{attrs:{content:"复制"}},[n("oh-button",{attrs:{icon:"content_copy",circle:"",size:"mini"},on:{click:function(n){return t.cloneGrid(e)}}})],1)],1):t._e(),e.code?n("custom-component",{attrs:{code:e.code,data:t.testData,detail:t.testData}}):t._e()],1)}),1),n("el-dialog",{attrs:{visible:t.dialogVisible,top:"6vh",fullscreen:!!t.editorFullscreen,width:"90%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[t._v("编辑源码")]),n("div",{staticClass:"option-group"},[n("oh-button",{attrs:{circle:"",icon:t.editorFullscreen?"fullscreen_exit":"fullscreen",size:"mini"},on:{click:function(e){t.editorFullscreen=!t.editorFullscreen}}}),n("oh-button",{attrs:{circle:"",icon:"close",size:"mini"},on:{click:function(e){t.dialogVisible=!1}}})],1)]),n("div",{staticClass:"dialog-content"},[n("code-editor",{attrs:{maxHeight:t.editorFullscreen?"calc(100vh - 114px)":"calc(100vh - 200px)",code:t.code},on:{input:t.setCode,change:t.setCode}})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("oh-button",{attrs:{type:"flat"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("oh-button",{attrs:{type:"primary"},on:{click:t.saveComponent}},[t._v("保存")])],1)]),n("el-drawer",{attrs:{visible:t.componentsDrawer,"with-header":!1,size:"24%"},on:{"update:visible":function(e){t.componentsDrawer=e}}},[n("fab-button",{attrs:{pos:{bottom:"24",right:"24"},icon:"add"},on:{click:function(e){t.innerDrawer=!0}}}),n("components-settings",{on:{updateCode:t.updateCode}})],1),n("el-drawer",{attrs:{"with-header":!1,"append-to-body":!0,visible:t.innerDrawer,size:"25%"},on:{"update:visible":function(e){t.innerDrawer=e}}},[n("div",{staticStyle:{padding:"16px","box-sizing":"border-box"}},[n("oh-input",{staticStyle:{"margin-bottom":"16px"},attrs:{placeholder:"组件名称",large:"","auto-focus":"",clearable:""},model:{value:t.compTitle,callback:function(e){t.compTitle=e},expression:"compTitle"}}),n("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card"}},[n("i",{staticClass:"el-icon-plus"})]),t._v("\n                组件源码\n                "),n("code-editor",{attrs:{code:t.emptyTemplate,maxHeight:"40vh"},on:{input:t.setCode,change:t.setCode}}),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("oh-button",{attrs:{type:"flat"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("oh-button",{attrs:{type:"primary"},on:{click:t.saveComponent}},[t._v("确定")])],1)],1)]),n("oh-dialog",{attrs:{title:"新建页面",visible:t.newPageDialog},on:{"update:visible":function(e){t.newPageDialog=e}}},[n("form",{attrs:{action:""}},[n("oh-form-item",{attrs:{icon:"title",label:"页面名称"}},[n("oh-input",{attrs:{placeholder:"页面名称",large:"","auto-focus":"",clearable:""},model:{value:t.pageTitle,callback:function(e){t.pageTitle=e},expression:"pageTitle"}})],1),n("oh-form-item",{attrs:{icon:"vpn_key",label:"页面ID"}},[n("oh-input",{attrs:{placeholder:"页面ID",clearable:""},model:{value:t.pageId,callback:function(e){t.pageId=e},expression:"pageId"}})],1),n("oh-form-item",{attrs:{icon:"link",label:"页面路由"}},[n("oh-input",{attrs:{placeholder:"路由地址",readonly:""},model:{value:t.pagePath,callback:function(e){t.pagePath=e},expression:"pagePath"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("oh-button",{attrs:{type:"flat"},on:{click:function(e){t.newPageDialog=!1}}},[t._v("取消")]),n("oh-button",{attrs:{type:"primary"},on:{click:t.newPage}},[t._v("确定")])],1)]),n("oh-dialog",{attrs:{title:"页面配置",visible:t.editPageDialog},on:{"update:visible":function(e){t.editPageDialog=e}}},[n("form",{attrs:{action:""},model:{value:t.pageInfo,callback:function(e){t.pageInfo=e},expression:"pageInfo"}},[n("oh-form-item",{attrs:{icon:"title",label:"页面名称"}},[n("oh-input",{attrs:{placeholder:"页面名称",large:"","auto-focus":"",clearable:""},model:{value:t.pageInfo.title,callback:function(e){t.$set(t.pageInfo,"title",e)},expression:"pageInfo.title"}})],1),n("oh-form-item",{attrs:{icon:"vpn_key",label:"页面ID"}},[n("oh-input",{attrs:{placeholder:"页面ID",clearable:""},model:{value:t.pageInfo.id,callback:function(e){t.$set(t.pageInfo,"id",e)},expression:"pageInfo.id"}})],1),n("oh-form-item",{attrs:{icon:"link",label:"页面路由"}},[n("oh-input",{attrs:{placeholder:"页面路由",readonly:""},model:{value:t.pageInfo.path,callback:function(e){t.$set(t.pageInfo,"path",e)},expression:"pageInfo.path"}})],1),n("oh-form-item",{attrs:{icon:"dashboard",label:"保存为模板",divider:""}},[n("ohSwitch",{attrs:{label:"添加至模板库"},model:{value:t.pageInfo.addToTemplate,callback:function(e){t.$set(t.pageInfo,"addToTemplate",e)},expression:"pageInfo.addToTemplate"}})],1),t.pageInfo.addToTemplate?n("oh-form-item",{attrs:{icon:"confirmation_number",label:"模板名称"}},[n("oh-input",{attrs:{placeholder:"模板名称","auto-focus":""},model:{value:t.pageInfo.templateName,callback:function(e){t.$set(t.pageInfo,"templateName",e)},expression:"pageInfo.templateName"}})],1):t._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("oh-button",{attrs:{type:"flat"},on:{click:function(e){t.editPageDialog=!1}}},[t._v("取消")]),n("oh-button",{attrs:{type:"primary"},on:{click:function(e){t.editPageDialog=!1}}},[t._v("确定")])],1)]),n("el-dialog",{attrs:{visible:t.testDialog,width:"80%",fullscreen:!0},on:{"update:visible":function(e){t.testDialog=e}}},[n("custom-component",{attrs:{code:t.table}})],1)],1)},o=[],a=(n("ac6a"),n("7be8")),l=n.n(a),c=n("5d93"),r='<template>\n<div class="custmor-table">\n<div class="header">部门信息</div>\n<table border="1" bordercolor="#e5e5e5" style="border-collapse:collapse;">\n<tr class="tableTitle">\n<th align="center" valign="middle">部门</th>\n<th align="center" valign="middle">行次</th>\n<th align="center" valign="middle">核算内容</th>\n<th align="center" valign="middle">预算额(元)</th>\n</tr>\n<tr>\n<td align="center" valign="middle">销售部门</td>\n<td align="center" valign="middle">1</td>\n<td align="center" valign="middle">合同收入（即“合同标的”）小计</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td rowspan="4" align="center" valign="middle">财务部</td>\n<td align="center" valign="middle">2</td>\n<td align="center" valign="middle">\n<el-select size="small" v-model="value" placeholder="请选择">\n<el-option v-for="item in options" :key="item.value" :label="item.label" :value="item.value">\n</el-option>\n</el-select>\n</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">3</td>\n<td align="center" valign="middle"> 附加税【2x0.07】</td>\n<td align="center" valign="middle"></td align="center">\n</tr>\n<tr>\n<td align="center" valign="middle">4</td>\n<td align="center" valign="middle">印花税【(+6+7)×0.0003】</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">5</td>\n<td align="center" valign="middle">附件税【2×0.07】</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td rowspan="5" align="center" valign="middle">商务合作部</td>\n<td align="center" valign="middle">6.1</td>\n<td align="center" valign="middle"> 采购设备及产品（普通增值税发票）</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">6.2</td>\n<td align="center" valign="middle">采购设备及产品（专用增值发票）</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">6.3</td>\n<td align="center" valign="middle">印花税【1+6+7】×0.0003</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">7.1</td>\n<td align="center" valign="middle">分包-非抵扣</td>\n<td align="center" valign="middle"></td>\n</tr>\n<tr>\n<td align="center" valign="middle">7.2</td>\n<td align="center" valign="middle">分包-6%可抵扣</td>\n<td align="center" valign="middle"></td>\n</tr>\n</table>\n</div>\n</template>\n<script>\nexport default {\ndata() {\nreturn {\noptions: [{\nvalue: \'选项1\',\nlabel: \'黄金糕\'\n}, {\nvalue: \'选项2\',\nlabel: \'双皮奶\'\n}, {\nvalue: \'选项3\',\nlabel: \'蚵仔煎\'\n}, {\nvalue: \'选项4\',\nlabel: \'龙须面\'\n}, {\nvalue: \'选项5\',\nlabel: \'北京烤鸭\'\n}],\nvalue: \'\'\n}\n}\n}\n<\/script>\n<style scoped>\n.custmor-table {\nbackground: #fff;\nborder-radius: 4px;\npadding: 16px;\nbox-sizing: box-border;\n}\n\n.custmor-table .header {\nposition: relative;\nwidth: 100%;\nfont-size: 16px;\nfont-weight: bold;\ncolor: #333;\npadding-left: 12px;\npadding-bottom: 16px;\nmargin-bottom: 16px;\nborder-bottom: 1px solid #e8e8e8;\n}\n\n.custmor-table .header::before {\nposition: absolute;\nleft: 0;\ntop: 0;\ncontent: \'\';\nbackground: #F5222D;\nborder-radius: 2px;\nwidth: 4px;\nheight: 20px;\n\n}\n\n.custmor-table table {\nborder: 1px solid #e5e5e5;\nwidth: 100%;\nbackground: #fff;\nfont-size: 14px;\n}\n\n.custmor-table tr {\nheight: 40px;\n}\n\n.custmor-table td {\nfont-weight: 400;\n}\n\n.custmor-table .tableTitle {\nbackground-color: #fafafa;\n}\n</style>\n',d=r,s={name:"specials",components:{GridLayout:l.a.GridLayout,GridItem:l.a.GridItem},data:function(){return{testData:"abc",compTitle:"",pageTitle:"",pageId:"",pagePath:"/misIndex/index_19?id=19",pageInfo:{title:"领导首页",id:"MIS_INDEX_LD",path:"/misIndex/index_19?id=19",addToTemplate:!1,templateName:""},testDialog:!1,dialogVisible:!1,editorFullscreen:!1,componentsDrawer:!1,innerDrawer:!1,newPageDialog:!1,editPageDialog:!1,toDoList:{},isEdit:!0,code:"",key:"",emptyTemplate:c["a"],table:d,layout:[{x:0,y:0,w:6,h:18,i:"0",minH:8,code:c["a"]}]}},mounted:function(){this.initLayout()},computed:{},methods:{getTestData:function(){var t=this;this.$axios.get("basicDetail.json").then(function(e){return t.testData=e.data})},preview:function(){this.isEdit=!1},showToolbar:function(t){0==t.pageX&&(this.isEdit=!0)},newPage:function(){var t=this;this.newPageDialog=!1,setTimeout(function(){t.layout=[{x:0,y:0,w:6,h:18,i:"0",minH:8,code:c["a"]}]},200)},newGrid:function(){var t=Math.max.apply(Math,this.layout.map(function(t){return t.i}));this.layout.push({x:0,y:24,w:6,h:10,minH:8,i:t+1,code:c["a"]})},delGrid:function(t){this.layout.splice(t,1)},cloneGrid:function(t){var e=Math.max.apply(Math,this.layout.map(function(t){return t.i}));this.layout.push({x:t.x,y:t.y,w:t.w,h:t.h,minH:8,i:e+1,component:t.component,code:t.code})},editComponent:function(t,e){this.dialogVisible=!0,this.key=e,this.code=t},saveComponent:function(){var t=this;this.dialogVisible=!1,this.layout.forEach(function(e){e.i==t.key&&(e.code=t.code)})},setCode:function(t){this.code=t},updateComponent:function(t){this.componentsDrawer=!0,this.key=t},updateCode:function(t){var e=this;this.layout.forEach(function(n){n.i==e.key&&(n.code=t)})},initLayout:function(){var t=localStorage.getItem("layout");this.layout=JSON.parse(t)||this.layout},saveLayout:function(){var t=this;window.localStorage.setItem("layout",JSON.stringify(this.layout)),setTimeout(function(){t.$notify({title:"成功",message:"页面保存成功",type:"success",duration:1500})},300)}}},p=s,u=(n("0946"),n("2877")),g=Object(u["a"])(p,i,o,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-5e62024a.e555aac7.js.map